<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GOLFIN | Predict & Win</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Orbitron:wght@700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans JP', 'sans-serif'],
                        display: ['Orbitron', 'sans-serif'],
                    },
                    colors: {
                        bg: '#020617',      
                        surface: '#0f172a', 
                        primary: '#00FFA3', // Neon Green
                        secondary: '#10B981', 
                        accent: '#FACC15',  // Gold
                        pink: '#ec4899',
                        purple: '#8b5cf6',
                        corp: '#3b82f6',    // Corporate Blue
                    },
                    boxShadow: {
                        'neon': '0 0 15px rgba(0, 255, 163, 0.3)',
                        'neon-pink': '0 0 15px rgba(236, 72, 153, 0.4)',
                        'neon-corp': '0 0 15px rgba(59, 130, 246, 0.4)',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s infinite',
                        'bounce-slow': 'bounce 2s infinite',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #020617;
            color: #e2e8f0;
            -ms-overflow-style: none;  
            scrollbar-width: none;  
            padding-bottom: 100px;
        }
        body::-webkit-scrollbar { display: none; }

        .glass-panel {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .input-tech {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }
        .input-tech:focus {
            border-color: #00FFA3;
            box-shadow: 0 0 15px rgba(0, 255, 163, 0.2);
            outline: none;
        }

        .nav-item.active {
            color: #00FFA3;
            text-shadow: 0 0 10px rgba(0, 255, 163, 0.5);
        }
        .nav-item.active i { transform: scale(1.1); transition: transform 0.2s; }

        .lang-switch {
            font-size: 10px;
            font-weight: 800;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 4px 8px;
            border-radius: 20px;
            cursor: pointer;
        }

        .tab-active { border-bottom: 2px solid #00FFA3; color: white; }
        .tab-inactive { border-bottom: 2px solid transparent; color: #64748b; }

        .boost-active {
            border: 1px solid #FACC15;
            box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);
            animation: pulse-slow;
        }

        /* Rank Badges */
        .rank-1 { background: linear-gradient(135deg, #FFD700, #FDB931); color: black; border: 1px solid #fff; }
        .rank-2 { background: linear-gradient(135deg, #E0E0E0, #BDBDBD); color: black; border: 1px solid #fff; }
        .rank-3 { background: linear-gradient(135deg, #CD7F32, #A0522D); color: white; border: 1px solid #fff; }
    </style>
</head>
<body>
    <div id="app" class="max-w-[480px] mx-auto min-h-screen relative overflow-x-hidden bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="sticky top-0 z-50 glass-panel border-b-0 border-white/5 px-5 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2" onclick="window.navigate('home')">
                <div class="w-8 h-8 bg-gradient-to-br from-primary to-emerald-600 rounded flex items-center justify-center text-black font-black font-display shadow-neon transform skew-x-[-10deg]">G</div>
                <h1 class="text-xl font-bold tracking-tight text-white font-display italic">GOLFIN</h1>
            </div>
            <div class="flex items-center space-x-3">
                <button class="lang-switch text-primary font-display tracking-widest" onclick="toggleLanguage()" id="lang-btn">JP</button>
                <div class="flex flex-col items-end cursor-pointer" onclick="window.navigate('shop')">
                    <span class="text-[10px] text-primary font-mono tracking-widest" id="lbl-header-pt">POINTS</span>
                    <span class="text-sm font-bold font-display text-white" id="header-points">1,500</span>
                </div>
            </div>
        </header>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div id="view-container" class="p-4"></div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="fixed bottom-6 left-4 right-4 z-50 pointer-events-none">
            <div class="glass-panel rounded-2xl p-3 flex justify-around items-center pointer-events-auto shadow-2xl border border-white/10 mx-auto max-w-[440px]">
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500 active" data-view="home" onclick="window.navigate('home')">
                    <i data-lucide="home" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-home">HOME</span>
                </button>
                
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="rank" onclick="window.navigate('rank')">
                    <i data-lucide="trophy" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-rank">RANK</span>
                </button>
                
                <!-- Vote Button -->
                <button class="nav-item -mt-10 bg-black border-2 border-primary rounded-full w-16 h-16 flex flex-col items-center justify-center text-primary shadow-neon transform transition active:scale-95 group" onclick="window.navigate('home')">
                    <i data-lucide="ticket" class="h-7 w-7 group-hover:rotate-12 transition duration-300"></i>
                    <span class="text-[9px] font-black font-display" id="nav-vote">VOTE</span>
                </button>

                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="shop" onclick="window.navigate('shop')">
                    <i data-lucide="gift" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-shop">SHOP</span>
                </button>
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="mypage" onclick="window.navigate('mypage')">
                    <i data-lucide="user" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-me">ME</span>
                </button>
            </div>
        </footer>
    </div>

<script>
    // ------------------------------------------------------------------------
    // TRANSLATIONS
    // ------------------------------------------------------------------------
    const TRANSLATIONS = {
        ja: {
            nav_home: "ãƒ›ãƒ¼ãƒ ",
            nav_rank: "é †ä½",
            nav_vote: "æŠ•ç¥¨",
            nav_shop: "ã‚·ãƒ§ãƒƒãƒ—",
            nav_me: "ãƒžã‚¤ãƒšãƒ¼ã‚¸",
            header_pt: "ãƒã‚¤ãƒ³ãƒˆ",
            // Home
            btn_host_match: "ã‚³ãƒ³ãƒšã‚’ä¸»å‚¬ãƒ»ç™»éŒ²ã™ã‚‹",
            // Event Detail
            title_predict: "å„ªå‹äºˆæƒ³",
            lbl_sponsor_task: "ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³",
            task_desc: "å‹•ç”»è¦–è´(30s)ã§çš„ä¸­é…å½“2å€ï¼",
            btn_watch_ad: "å‹•ç”»ã‚’è¦‹ã¦2å€ãƒ–ãƒ¼ã‚¹ãƒˆ",
            boost_active: "2å€ãƒ–ãƒ¼ã‚¹ãƒˆé©ç”¨ä¸­ï¼",
            lbl_sponsor_gift: "å”è³›ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆ",
            gift_desc: "ã‚¹ãƒãƒ³ã‚µãƒ¼æä¾›ã®è±ªè¯è³žå“ã«å¿œå‹Ÿã—ã‚ˆã†",
            btn_apply_gift: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã«å¿œå‹Ÿã™ã‚‹",
            applied: "å¿œå‹Ÿæ¸ˆã¿",
            btn_submit_vote: "æŠ•ç¥¨ã‚’ç¢ºå®šã™ã‚‹",
            lbl_timeline: "ã‚¿ã‚¤ãƒ ãƒ©ã‚¤ãƒ³",
            // Create Match
            title_create: "ã‚³ãƒ³ãƒšä½œæˆ",
            desc_create: "ã‚³ãƒ³ãƒšã‚’ç™»éŒ²ã—ã¦å‚åŠ è€…ã‚’å‹Ÿé›†ã—ã‚ˆã†ã€‚",
            btn_publish: "ã‚³ãƒ³ãƒšã‚’å…¬é–‹ã™ã‚‹",
            // Rank (UPDATED)
            title_rank: "äºˆæƒ³ãƒžã‚¹ã‚¿ãƒ¼",
            desc_rank: "äºˆæƒ³çš„ä¸­çŽ‡ã¨çš„ä¸­å›žæ•°ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°",
            col_accuracy: "çš„ä¸­çŽ‡",
            col_hits: "çš„ä¸­æ•°",
            // Shop (UPDATED)
            tab_items: "å¿œæ´ã‚¢ã‚¤ãƒ†ãƒ ",
            tab_sponsors: "å”è³›ãƒ»ã‚¹ãƒãƒ³ã‚µãƒ¼",
            tab_rewards: "æ™¯å“äº¤æ›",
            shop_item_desc: "é¸æ‰‹ã‚„ã‚³ãƒ³ãƒšä¸»å‚¬è€…ã‚’å¿œæ´ã—ã‚ˆã†ï¼",
            shop_sponsor_desc: "ä¼æ¥­æä¾›ã®ç‰¹åˆ¥ã‚¯ãƒ¼ãƒãƒ³ã‚„é™å®šè³žå“ã€‚",
            shop_reward_desc: "ãƒã‚¤ãƒ³ãƒˆã‚’æ±Žç”¨ã‚®ãƒ•ãƒˆã¨äº¤æ›ã€‚",
            btn_buy: "è³¼å…¥ã™ã‚‹",
            btn_exchange: "äº¤æ›ç”³è«‹",
            // Me / In the bag
            title_me: "ãƒžã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«",
            lbl_bag_title: "IN THE BAG (ä½¿ç”¨ã‚®ã‚¢)",
            btn_save: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ä¿å­˜",
            // Misc
            alert_bought: "ã‚¢ã‚¤ãƒ†ãƒ ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼",
            alert_exchange: "äº¤æ›ç”³è«‹ã‚’å—ã‘ä»˜ã‘ã¾ã—ãŸã€‚",
            alert_saved: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚",
            alert_boost: "ãƒ–ãƒ¼ã‚¹ãƒˆé©ç”¨ï¼é…å½“2å€ãƒãƒ£ãƒ³ã‚¹ï¼",
            alert_apply: "ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã«å¿œå‹Ÿã—ã¾ã—ãŸï¼",
        },
        en: {
            nav_home: "HOME",
            nav_rank: "RANK",
            nav_vote: "VOTE",
            nav_shop: "SHOP",
            nav_me: "ME",
            header_pt: "POINTS",
            btn_host_match: "HOST A MATCH",
            title_predict: "PREDICTION",
            lbl_sponsor_task: "SPONSOR MISSION",
            task_desc: "Watch video for 2x Payout Boost!",
            btn_watch_ad: "WATCH & BOOST 2x",
            boost_active: "2x BOOST ACTIVE!",
            lbl_sponsor_gift: "SPONSOR GIVEAWAY",
            gift_desc: "Apply for sponsor prizes.",
            btn_apply_gift: "APPLY NOW",
            applied: "APPLIED",
            btn_submit_vote: "CONFIRM VOTE",
            lbl_timeline: "TIMELINE",
            title_create: "HOST MATCH",
            desc_create: "Create competition and recruit players.",
            btn_publish: "PUBLISH MATCH",
            // Rank (UPDATED)
            title_rank: "PREDICTION MASTERS",
            desc_rank: "Ranking by accuracy and hits.",
            col_accuracy: "Accuracy",
            col_hits: "Hits",
            // Shop (UPDATED)
            tab_items: "SUPPORT ITEMS",
            tab_sponsors: "SPONSORS",
            tab_rewards: "REWARDS",
            shop_item_desc: "Purchase items to support players!",
            shop_sponsor_desc: "Exclusive coupons and items from partners.",
            shop_reward_desc: "Exchange points for general rewards.",
            btn_buy: "BUY",
            btn_exchange: "EXCHANGE",
            // Me
            title_me: "MY PROFILE",
            lbl_bag_title: "IN THE BAG",
            btn_save: "SAVE PROFILE",
            // Misc
            alert_bought: "Item purchased!",
            alert_exchange: "Exchange request sent.",
            alert_saved: "Profile Saved.",
            alert_boost: "BOOST ACTIVATED!",
            alert_apply: "Applied for prize!",
        }
    };

    // ------------------------------------------------------------------------
    // MOCK DATA
    // ------------------------------------------------------------------------
    let userPoints = 1500;
    let isBoosted = false;
    let isApplied = false;

    let userProfile = {
        id: 'u1', name: "Golf Lover", type: 'personal', 
        avg: 92, best: 85, hdcp: 18, homeCourse: "æˆç”°ã‚´ãƒ«ãƒ•å€¶æ¥½éƒ¨",
        driver: "TaylorMade Qi10", fw: "Callaway Paradym", irons: "Mizuno Pro 243", 
        wedges: "Vokey SM9", putter: "Scotty Cameron", ball: "Titleist Pro V1",
        avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=GolfLover",
        following: 42, followers: 128
    };

    const TOURNAMENTS = [
        { id: 't1', category: 'pro', title: 'ãƒžã‚¹ã‚¿ãƒ¼ã‚º 2025', host: 'Augusta National', date: 'NOV 25', status: 'live', img: 'https://images.unsplash.com/photo-1587174486073-ae5e5cff23aa?auto=format&fit=crop&w=600&q=80', sponsor: 'LEXUS', players: ['M. Matsuyama', 'S. Scheffler'], likes: 1240, comments: 85 },
        { id: 't2', category: 'amateur', title: 'GOLFIN æœˆä¾‹æ¯ @æˆç”°', host: 'GOLFINé‹å–¶äº‹å‹™å±€', date: 'DEC 01', status: 'soon', img: 'https://images.unsplash.com/photo-1592919505780-30395071b483?auto=format&fit=crop&w=600&q=80', sponsor: 'Golf5', players: ['T. Tanaka', 'K. Suzuki'], likes: 320, comments: 12 }
    ];

    const COMMENTS = [
        { user: "T.Sato", text: "æ¾å±±é¸æ‰‹ã€ä»Šå¹´ã¯çµ¶å¯¾ã„ã‘ã‚‹ï¼ðŸ”¥", time: "2m", icon: "TS" },
        { user: "Golf_Fan", text: "é…å½“é«˜ã‚ã®Schefflerã«è³­ã‘ãŸ", time: "5m", icon: "GF" },
    ];

    // Ranking Data (Prediction Accuracy)
    const PREDICTION_RANKING = [
        { rank: 1, name: "Prediction_God", accuracy: "88%", hits: 142, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=God" },
        { rank: 2, name: "Data_Analyst", accuracy: "82%", hits: 98, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Data" },
        { rank: 3, name: "Lucky_Strike", accuracy: "79%", hits: 65, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Lucky" },
        { rank: 4, name: "Golf Lover (You)", accuracy: "65%", hits: 42, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=GolfLover" },
        { rank: 5, name: "Rookie_A", accuracy: "60%", hits: 12, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Rookie" },
    ];

    // Shop Data
    const SHOP_DATA = {
        items: [ // æŠ•ã’éŠ­
            { id: 'i1', name: 'å¿œæ´ã®ãƒãƒ©', cost: 100, icon: 'ðŸŒ¹' },
            { id: 'i2', name: 'ãŠç–²ã‚Œãƒ“ãƒ¼ãƒ«', cost: 300, icon: 'ðŸº' },
            { id: 'i3', name: 'å‹åˆ©ã®ãƒˆãƒ­ãƒ•ã‚£ãƒ¼', cost: 1000, icon: 'ðŸ†' },
        ],
        sponsors: [ // å”è³›ãƒ»ä¼æ¥­
            { id: 's1', name: 'Golf5 10%OFFã‚¯ãƒ¼ãƒãƒ³', cost: 500, img: 'https://placehold.co/100/000000/ffffff?text=10%25', type: 'coupon' },
            { id: 's2', name: 'LEXUS ã‚ªãƒªã‚¸ãƒŠãƒ«ã‚¿ã‚ªãƒ«', cost: 1500, img: 'https://placehold.co/100/000000/ffffff?text=LEXUS', type: 'product' },
            { id: 's3', name: 'åœ°å…ƒç‰¹ç”£å“ã‚»ãƒƒãƒˆ', cost: 2000, img: 'https://placehold.co/100/22c55e/ffffff?text=FOOD', type: 'product' },
        ],
        rewards: [ // æ±Žç”¨
            { id: 'r1', name: 'Amazonã‚®ãƒ•ãƒˆ (Â¥1,000)', cost: 1000, img: 'https://placehold.co/100?text=AMZN' },
            { id: 'r2', name: 'Pro V1 Balls (1 Dozen)', cost: 5000, img: 'https://placehold.co/100?text=BALLS' },
        ]
    };

    // ------------------------------------------------------------------------
    // LOGIC
    // ------------------------------------------------------------------------
    let currentLang = 'ja';
    const container = document.getElementById('view-container');
    const t = (key) => TRANSLATIONS[currentLang][key] || key;

    function toggleLanguage() {
        currentLang = currentLang === 'ja' ? 'en' : 'ja';
        document.getElementById('lang-btn').innerText = currentLang === 'ja' ? 'JP' : 'EN';
        updateStaticText();
        window.navigate('home', {}, false);
    }

    function updateStaticText() {
        document.getElementById('nav-home').innerText = t('nav_home');
        document.getElementById('nav-rank').innerText = t('nav_rank');
        document.getElementById('nav-vote').innerText = t('nav_vote');
        document.getElementById('nav-shop').innerText = t('nav_shop');
        document.getElementById('nav-me').innerText = t('nav_me');
        document.getElementById('lbl-header-pt').innerText = t('header_pt');
    }

    function updatePoints(amount) {
        userPoints += amount;
        document.getElementById('header-points').innerText = userPoints.toLocaleString();
    }

    window.navigate = (viewName, params = {}, scrollToTop = true) => {
        if(viewName !== 'event-detail') { isBoosted = false; isApplied = false; }

        document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
        if(viewName === 'home') document.getElementById('nav-vote').parentElement.classList.add('text-primary'); 
        const activeBtn = document.querySelector(`[data-view="${viewName}"]`);
        if (activeBtn) activeBtn.classList.add('active');

        let html = '';
        if (viewName === 'home') html = renderHome();
        else if (viewName === 'rank') html = renderRank();
        else if (viewName === 'shop') html = renderShop();
        else if (viewName === 'mypage') html = renderMyPage();
        else if (viewName === 'event-detail') html = renderEventDetail(params.id);
        else if (viewName === 'create-comp') html = renderCreateComp();
        else html = `<div class="text-center p-10 text-gray-500">Page: ${viewName}</div>`;

        container.innerHTML = html;
        if(window.lucide) window.lucide.createIcons();
        if(scrollToTop) window.scrollTo(0,0);
    };

    // ------------------------------------------------------------------------
    // RENDERERS
    // ------------------------------------------------------------------------

    // 1. RANKING (Prediction Accuracy)
    function renderRank() {
        return `
            <div class="mb-6 text-center animate-fade-in">
                <h2 class="text-2xl font-display font-black text-white italic">${t('title_rank')}</h2>
                <p class="text-xs text-gray-400">${t('desc_rank')}</p>
            </div>
            
            <!-- Header -->
            <div class="flex justify-between px-4 text-[10px] text-gray-500 mb-2 font-bold uppercase">
                <span>User</span>
                <div class="flex gap-6">
                    <span class="w-12 text-center">${t('col_accuracy')}</span>
                    <span class="w-8 text-right">${t('col_hits')}</span>
                </div>
            </div>

            <div class="space-y-3">
                ${PREDICTION_RANKING.map((p, i) => {
                    let rankClass = i === 0 ? 'rank-1' : i === 1 ? 'rank-2' : i === 2 ? 'rank-3' : 'bg-white/10 text-gray-400';
                    let glow = i === 0 ? 'shadow-neon-pink' : '';
                    return `
                    <div class="glass-panel p-3 rounded-xl flex items-center gap-3 ${glow}">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${rankClass}">${p.rank}</div>
                        <div class="w-10 h-10 rounded-full bg-gray-700 overflow-hidden border border-white/20">
                            <img src="${p.avatar}" class="w-full h-full">
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-bold text-white">${p.name}</h3>
                        </div>
                        <div class="flex gap-6 items-center">
                            <div class="w-12 text-center text-primary font-bold font-display">${p.accuracy}</div>
                            <div class="w-8 text-right text-white font-bold">${p.hits}</div>
                        </div>
                    </div>
                    `;
                }).join('')}
            </div>
        `;
    }

    // 2. SHOP (3 Tabs: Support, Sponsor, Rewards)
    function renderShop() {
        return `
            <div class="mb-6 animate-fade-in">
                <div class="flex gap-2 border-b border-white/10 pb-2 mb-4 overflow-x-auto">
                    <button class="text-xs font-bold px-3 py-1 tab-active whitespace-nowrap" onclick="switchShopTab(this, 'shop-items')">${t('tab_items')}</button>
                    <button class="text-xs font-bold px-3 py-1 tab-inactive whitespace-nowrap" onclick="switchShopTab(this, 'shop-sponsors')">${t('tab_sponsors')}</button>
                    <button class="text-xs font-bold px-3 py-1 tab-inactive whitespace-nowrap" onclick="switchShopTab(this, 'shop-rewards')">${t('tab_rewards')}</button>
                </div>

                <!-- 1. Support Items (Throwing Money) -->
                <div id="shop-items" class="grid grid-cols-1 gap-3">
                    <p class="text-xs text-gray-400 mb-2">${t('shop_item_desc')}</p>
                    ${SHOP_DATA.items.map(i => `
                        <div class="glass-panel p-3 rounded-xl flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <div class="text-3xl w-12 h-12 flex items-center justify-center bg-white/5 rounded-lg border border-white/10">${i.icon}</div>
                                <div><h3 class="font-bold text-white text-sm">${i.name}</h3><p class="text-xs font-bold text-primary">${i.cost} pt</p></div>
                            </div>
                            <button class="px-4 py-2 rounded bg-white/10 hover:bg-primary hover:text-black border border-white/10 text-xs font-bold transition" onclick="updatePoints(-${i.cost}); alert('${t('alert_bought')}')">${t('btn_buy')}</button>
                        </div>
                    `).join('')}
                </div>

                <!-- 2. Sponsors (Coupons, Goods) -->
                <div id="shop-sponsors" class="hidden grid-cols-1 gap-3">
                    <p class="text-xs text-gray-400 mb-2">${t('shop_sponsor_desc')}</p>
                    ${SHOP_DATA.sponsors.map(s => `
                        <div class="glass-panel p-0 rounded-xl flex overflow-hidden border border-corp/30">
                            <div class="w-20 bg-gray-800 flex-shrink-0"><img src="${s.img}" class="w-full h-full object-cover opacity-80"></div>
                            <div class="p-3 flex-1 flex flex-col justify-between">
                                <h3 class="font-bold text-white text-sm leading-tight">${s.name}</h3>
                                <div class="flex justify-between items-end mt-2">
                                    <p class="text-accent font-bold font-display">${s.cost} pt</p>
                                    <button class="px-3 py-1 rounded bg-corp text-white text-[10px] font-bold hover:bg-blue-500" onclick="alert('${t('alert_exchange')}')">${t('btn_exchange')}</button>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>

                <!-- 3. Rewards (Generic) -->
                <div id="shop-rewards" class="hidden grid-cols-2 gap-3">
                    <div class="col-span-2"><p class="text-xs text-gray-400 mb-2">${t('shop_reward_desc')}</p></div>
                    ${SHOP_DATA.rewards.map(r => `
                        <div class="glass-panel p-3 rounded-xl flex flex-col h-full">
                            <img src="${r.img}" class="w-full h-20 object-cover rounded-lg mb-2 bg-gray-800">
                            <h3 class="text-xs font-bold text-white mb-1 leading-tight">${r.name}</h3>
                            <div class="mt-auto pt-2"><p class="text-accent font-bold font-display mb-2">${r.cost.toLocaleString()} pt</p><button class="w-full py-2 rounded bg-white/10 border border-white/10 text-xs font-bold hover:bg-accent hover:text-black transition" onclick="alert('${t('alert_exchange')}')">${t('btn_exchange')}</button></div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }

    // Helper for Shop Tabs
    window.switchShopTab = (btn, targetId) => {
        btn.parentNode.querySelectorAll('button').forEach(b => { b.classList.remove('tab-active'); b.classList.add('tab-inactive'); });
        btn.classList.remove('tab-inactive'); btn.classList.add('tab-active');
        ['shop-items', 'shop-sponsors', 'shop-rewards'].forEach(id => {
            document.getElementById(id).classList.add('hidden');
            document.getElementById(id).classList.remove('grid');
        });
        document.getElementById(targetId).classList.remove('hidden');
        document.getElementById(targetId).classList.add('grid');
    }

    // 3. HOME (Timeline Feed)
    function renderHome() {
        return `
            <div class="mb-6 animate-fade-in">
                <button class="w-full py-4 rounded-2xl bg-gradient-to-r from-purple-900 to-indigo-900 border border-purple-500/50 shadow-neon-purple flex items-center justify-center gap-3 group" onclick="window.navigate('create-comp')">
                    <div class="p-2 bg-purple-500 rounded-full text-white"><i data-lucide="plus" class="w-6 h-6"></i></div>
                    <div class="text-left"><span class="block text-sm font-bold text-white tracking-wider">${t('btn_host_match')}</span></div>
                </button>
            </div>
            <div class="space-y-6">
                ${TOURNAMENTS.map(ev => `
                    <div class="glass-panel p-0 rounded-xl overflow-hidden cursor-pointer group hover:border-primary/50 transition" onclick="window.navigate('event-detail', {id: '${ev.id}'})">
                        <div class="h-36 relative">
                            <img src="${ev.img}" class="w-full h-full object-cover opacity-80">
                            <div class="absolute inset-0 bg-gradient-to-t from-bg via-transparent to-transparent"></div>
                            <div class="absolute top-3 right-3"><span class="px-2 py-1 rounded text-[10px] font-bold uppercase backdrop-blur-md bg-black/40 border border-white/20">${ev.category}</span></div>
                            <div class="absolute bottom-3 right-3 flex items-center gap-1 bg-black/50 px-2 py-1 rounded-full border border-white/10">
                                <i data-lucide="heart" class="w-3 h-3 text-pink fill-current"></i><span class="text-[10px] text-white font-bold">${ev.likes}</span>
                            </div>
                        </div>
                        <div class="p-4 -mt-2 relative z-10 bg-gradient-to-b from-transparent to-bg">
                            <div class="flex justify-between items-start mb-2"><h3 class="text-lg font-bold text-white leading-tight w-3/4">${ev.title}</h3><span class="text-[10px] bg-white/10 px-2 py-1 rounded text-gray-300">${ev.status === 'live' ? 'LIVE' : 'Recruiting'}</span></div>
                            <p class="text-xs text-gray-400 mb-3 flex items-center gap-1"><i data-lucide="map-pin" class="w-3 h-3"></i> ${ev.host}</p>
                            <div class="flex justify-between items-center border-t border-white/10 pt-3">
                                <div class="flex items-center gap-2"><span class="text-[10px] text-gray-500">${ev.comments} comments</span></div>
                                <span class="text-xs font-bold text-primary flex items-center gap-1">DETAILS <i data-lucide="chevron-right" class="w-3 h-3"></i></span>
                            </div>
                        </div>
                    </div>
                `).join('')}
            </div>
        `;
    }

    // 4. EVENT DETAIL (Boost, Gift, Vote, Timeline)
    function renderEventDetail(id) {
        const ev = TOURNAMENTS.find(e => e.id === id) || TOURNAMENTS[0];
        return `
            <div class="animate-fade-in">
                <button class="text-gray-400 mb-4 flex items-center text-xs" onclick="window.navigate('home')"><i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i> BACK</button>
                <div class="flex justify-between items-end mb-4">
                    <h2 class="text-2xl font-black text-white italic leading-none w-3/4">${ev.title}</h2>
                    <div class="flex flex-col items-center cursor-pointer" onclick="this.classList.toggle('text-pink')"><i data-lucide="heart" class="w-6 h-6 text-gray-500 hover:text-pink transition"></i><span class="text-[10px] text-gray-400">${ev.likes}</span></div>
                </div>

                <!-- 1. BOOST -->
                <div id="task-card" class="bg-gradient-to-r from-blue-900 to-cyan-900 border border-cyan-500/50 rounded-xl p-4 mb-4 relative overflow-hidden group ${isBoosted ? 'from-accent/20 to-yellow-900/40 border-accent boost-active' : ''}">
                    ${isBoosted ? `<div class="flex items-center justify-center gap-2 h-full py-2"><i data-lucide="zap" class="w-6 h-6 text-accent fill-current animate-bounce"></i><p class="text-lg font-black text-accent font-display">${t('boost_active')}</p></div>` : `<div class="flex justify-between items-center relative z-10"><div><h3 class="text-xs font-bold text-cyan-300 flex items-center gap-1"><i data-lucide="monitor-play" class="w-3 h-3"></i> ${t('lbl_sponsor_task')}</h3><p class="text-[10px] text-gray-200">${t('task_desc')}</p></div><button class="px-4 py-2 bg-cyan-500 text-black font-bold text-xs rounded-lg hover:bg-cyan-400 transition shadow-lg" onclick="activateBoost(this)">${t('btn_watch_ad')}</button></div>`}
                </div>

                <!-- 2. GIFT APPLY -->
                <div class="bg-white/5 border border-white/10 rounded-xl p-4 mb-6 flex items-center justify-between">
                    <div><h3 class="text-xs font-bold text-pink flex items-center gap-1"><i data-lucide="gift" class="w-3 h-3"></i> ${t('lbl_sponsor_gift')}</h3><p class="text-[10px] text-gray-400">${t('gift_desc')}</p></div>
                    <button class="px-4 py-2 rounded-lg text-xs font-bold transition ${isApplied ? 'bg-gray-600 text-gray-400' : 'bg-pink text-white shadow-neon-pink'}" onclick="applyGift(this)">${isApplied ? t('applied') : t('btn_apply_gift')}</button>
                </div>

                <!-- 3. VOTE -->
                <div class="glass-panel p-5 rounded-xl mb-8">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2"><i data-lucide="crosshair" class="w-5 h-5 text-primary"></i> ${t('title_predict')}</h3>
                    <div class="space-y-3 mb-6">${ev.players.map(p => `<label class="flex items-center justify-between p-3 rounded bg-white/5 border border-white/10 cursor-pointer hover:border-primary transition group"><div class="flex items-center gap-3"><input type="radio" name="pred" class="accent-primary w-4 h-4"><span class="text-sm font-bold text-white group-hover:text-primary transition">${p}</span></div><span class="text-primary font-mono font-bold">x${(Math.random() * 5 + 1.5).toFixed(1)}</span></label>`).join('')}</div>
                    <button class="w-full py-3 rounded-xl bg-primary/20 text-primary font-bold text-sm border border-primary hover:bg-primary hover:text-black transition" onclick="alert('Voted!')">${t('btn_submit_vote')}</button>
                </div>

                <!-- 4. TIMELINE -->
                <div class="border-t border-white/10 pt-6">
                    <h3 class="text-sm font-bold text-gray-400 mb-4 flex items-center gap-2"><i data-lucide="message-circle" class="w-4 h-4"></i> ${t('lbl_timeline')}</h3>
                    <div class="space-y-4">${COMMENTS.map(c => `<div class="flex gap-3"><div class="w-8 h-8 rounded-full bg-gray-700 border border-white/20 flex items-center justify-center text-[10px] font-bold text-gray-400">${c.icon}</div><div><p class="text-xs font-bold text-white mb-0.5">${c.user} <span class="text-[10px] text-gray-600 ml-2">${c.time}</span></p><p class="text-xs text-gray-300 bg-white/5 p-2 rounded-r-lg rounded-bl-lg inline-block">${c.text}</p></div></div>`).join('')}</div>
                    <div class="mt-4 flex gap-2"><input type="text" placeholder="Comment..." class="input-tech w-full p-2 rounded-lg text-xs"><button class="bg-white/10 p-2 rounded-lg text-white"><i data-lucide="send" class="w-4 h-4"></i></button></div>
                </div>
            </div>
        `;
    }

    function activateBoost(btn) { btn.innerText = "Loading..."; setTimeout(() => { isBoosted = true; window.navigate('event-detail', {id: 't1'}, false); alert(t('alert_boost')); }, 1000); }
    function applyGift(btn) { if(isApplied) return; isApplied = true; btn.innerText = t('applied'); btn.classList.remove('bg-pink', 'shadow-neon-pink', 'text-white'); btn.classList.add('bg-gray-600', 'text-gray-400'); alert(t('alert_apply')); }

    // 5. ME PAGE (In The Bag)
    function renderMyPage() {
        return `
            <div class="animate-fade-in">
                <h2 class="text-xl font-display font-black text-white mb-6">${t('title_me')}</h2>
                <div class="flex items-start gap-4 mb-6">
                    <div class="w-20 h-20 rounded-full border-2 border-primary p-1 flex-shrink-0"><img src="${userProfile.avatar}" class="w-full h-full rounded-full bg-gray-700"></div>
                    <div class="flex-1"><h3 class="text-xl font-bold text-white">${userProfile.name}</h3><p class="text-xs text-gray-400 mb-3">ID: #8821</p><div class="flex gap-4"><div class="text-center"><span class="block text-sm font-bold text-white">${userProfile.following}</span><span class="text-[10px] text-gray-500">Following</span></div><div class="text-center"><span class="block text-sm font-bold text-white">${userProfile.followers}</span><span class="text-[10px] text-gray-500">Followers</span></div></div></div>
                </div>
                <div class="glass-panel p-5 rounded-xl mb-6"><div class="grid grid-cols-3 gap-4 text-center"><div><p class="text-[10px] text-gray-500 mb-1">${t('lbl_avg')}</p><p class="text-xl font-bold text-white">${userProfile.avg}</p></div><div><p class="text-[10px] text-gray-500 mb-1">${t('lbl_best')}</p><p class="text-xl font-bold text-accent">${userProfile.best}</p></div><div><p class="text-[10px] text-gray-500 mb-1">${t('lbl_hdcp')}</p><p class="text-xl font-bold text-white">${userProfile.hdcp}</p></div></div></div>
                <h3 class="text-sm font-bold text-white mb-3 flex items-center gap-2"><i data-lucide="briefcase" class="w-4 h-4 text-primary"></i> ${t('lbl_bag_title')}</h3>
                <div class="glass-panel p-5 rounded-xl mb-6 space-y-4">
                    <div><label class="text-xs text-gray-500 block mb-1">${t('lbl_dr')}</label><input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.driver}"></div>
                    <div><label class="text-xs text-gray-500 block mb-1">${t('lbl_ir')}</label><input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.irons}"></div>
                    <div><label class="text-xs text-gray-500 block mb-1">${t('lbl_ball')}</label><input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.ball}"></div>
                </div>
                <button class="w-full py-3 rounded-xl bg-primary/20 border border-primary text-primary font-bold hover:bg-primary hover:text-black transition" onclick="alert('${t('alert_saved')}')">${t('btn_save')}</button>
            </div>
        `;
    }

    // 6. CREATE COMP
    function renderCreateComp() {
        return `<div class="animate-fade-in"><button class="text-gray-400 mb-4 flex items-center text-xs" onclick="window.navigate('home')"><i data-lucide="x" class="w-4 h-4 mr-1"></i> CANCEL</button><h2 class="text-2xl font-display font-black text-white mb-2">${t('title_create')}</h2><p class="text-xs text-gray-400 mb-6">${t('desc_create')}</p><div class="glass-panel p-5 rounded-xl space-y-4"><div><label class="text-xs text-gray-400 font-bold block mb-1">${t('lbl_c_title')}</label><input type="text" class="input-tech w-full p-3 rounded-lg" placeholder="ex: Sunday Golf"></div><button class="w-full py-3 rounded-xl bg-purple-600 text-white font-bold mt-2 shadow-neon-purple" onclick="alert('Created!'); window.navigate('home')">${t('btn_publish')}</button></div></div>`;
    }

    // Init
    document.addEventListener('DOMContentLoaded', () => {
        window.navigate('home');
    });
</script>
</body>
</html>
