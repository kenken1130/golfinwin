<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>GOLFIN | Play, Predict, Earn</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Lucide Icons -->
    <script src="https://unpkg.com/lucide@latest"></script>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&family=Orbitron:wght@700;900&family=Noto+Sans+JP:wght@400;700;900&display=swap" rel="stylesheet">

    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'Noto Sans JP', 'sans-serif'],
                        display: ['Orbitron', 'sans-serif'],
                    },
                    colors: {
                        bg: '#020617',      
                        surface: '#0f172a', 
                        primary: '#00FFA3', // Neon Green
                        secondary: '#10B981', 
                        accent: '#FACC15',  // Gold
                        pink: '#ec4899',
                        purple: '#8b5cf6',
                    },
                    boxShadow: {
                        'neon': '0 0 15px rgba(0, 255, 163, 0.3)',
                        'neon-pink': '0 0 15px rgba(236, 72, 153, 0.4)',
                        'neon-purple': '0 0 20px rgba(139, 92, 246, 0.4)',
                    },
                    animation: {
                        'pulse-slow': 'pulse 3s infinite',
                    }
                }
            }
        }
    </script>

    <style>
        body {
            background-color: #020617;
            color: #e2e8f0;
            -ms-overflow-style: none;  
            scrollbar-width: none;  
            padding-bottom: 100px;
        }
        body::-webkit-scrollbar { display: none; }

        .glass-panel {
            background: linear-gradient(145deg, rgba(30, 41, 59, 0.6) 0%, rgba(15, 23, 42, 0.8) 100%);
            backdrop-filter: blur(12px);
            -webkit-backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.08);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .input-tech {
            background: rgba(0, 0, 0, 0.4);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }
        .input-tech:focus {
            border-color: #00FFA3;
            box-shadow: 0 0 15px rgba(0, 255, 163, 0.2);
            outline: none;
        }

        .nav-item.active {
            color: #00FFA3;
            text-shadow: 0 0 10px rgba(0, 255, 163, 0.5);
        }
        .nav-item.active i { transform: scale(1.1); transition: transform 0.2s; }

        .lang-switch {
            font-size: 10px;
            font-weight: 800;
            background: rgba(255,255,255,0.1);
            border: 1px solid rgba(255,255,255,0.2);
            padding: 4px 8px;
            border-radius: 20px;
            cursor: pointer;
        }

        .tab-active { border-bottom: 2px solid #00FFA3; color: white; }
        .tab-inactive { border-bottom: 2px solid transparent; color: #64748b; }
        
        /* Boost Effect */
        .boost-active {
            border: 1px solid #FACC15;
            box-shadow: 0 0 20px rgba(250, 204, 21, 0.3);
            animation: pulse-slow;
        }

        /* Rank Badges */
        .rank-1 { background: linear-gradient(135deg, #FFD700, #FDB931); color: black; border: 1px solid #fff; }
        .rank-2 { background: linear-gradient(135deg, #E0E0E0, #BDBDBD); color: black; border: 1px solid #fff; }
        .rank-3 { background: linear-gradient(135deg, #CD7F32, #A0522D); color: white; border: 1px solid #fff; }
    </style>
</head>
<body>
    <div id="app" class="max-w-[480px] mx-auto min-h-screen relative overflow-x-hidden bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]">
        
        <!-- ãƒ˜ãƒƒãƒ€ãƒ¼ -->
        <header class="sticky top-0 z-50 glass-panel border-b-0 border-white/5 px-5 py-3 flex justify-between items-center">
            <div class="flex items-center gap-2" onclick="window.navigate('home')">
                <div class="w-8 h-8 bg-gradient-to-br from-primary to-emerald-600 rounded flex items-center justify-center text-black font-black font-display shadow-neon transform skew-x-[-10deg]">G</div>
                <h1 class="text-xl font-bold tracking-tight text-white font-display italic">GOLFIN</h1>
            </div>
            <div class="flex items-center space-x-3">
                <button class="lang-switch text-primary font-display tracking-widest" onclick="toggleLanguage()" id="lang-btn">JP</button>
                <div class="flex flex-col items-end cursor-pointer" onclick="window.navigate('shop')">
                    <span class="text-[10px] text-primary font-mono tracking-widest" id="lbl-header-pt">POINTS</span>
                    <span class="text-sm font-bold font-display text-white" id="header-points">1,500</span>
                </div>
            </div>
        </header>
        
        <!-- ãƒ¡ã‚¤ãƒ³ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ -->
        <div id="view-container" class="p-4"></div>

        <!-- ãƒŠãƒ“ã‚²ãƒ¼ã‚·ãƒ§ãƒ³ãƒ•ãƒƒã‚¿ãƒ¼ -->
        <footer class="fixed bottom-6 left-4 right-4 z-50 pointer-events-none">
            <div class="glass-panel rounded-2xl p-3 flex justify-around items-center pointer-events-auto shadow-2xl border border-white/10 mx-auto max-w-[440px]">
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500 active" data-view="home" onclick="window.navigate('home')">
                    <i data-lucide="home" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-home">HOME</span>
                </button>
                
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="rank" onclick="window.navigate('rank')">
                    <i data-lucide="trophy" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-rank">RANK</span>
                </button>
                
                <!-- Center VOTE Button -->
                <button class="nav-item -mt-10 bg-black border-2 border-primary rounded-full w-16 h-16 flex flex-col items-center justify-center text-primary shadow-neon transform transition active:scale-95 group" onclick="window.navigate('home')">
                    <i data-lucide="ticket" class="h-7 w-7 group-hover:rotate-12 transition duration-300"></i>
                    <span class="text-[9px] font-black font-display" id="nav-vote">VOTE</span>
                </button>

                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="shop" onclick="window.navigate('shop')">
                    <i data-lucide="gift" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-shop">SHOP</span>
                </button>
                <button class="nav-item flex flex-col items-center gap-1 w-12 text-gray-500" data-view="mypage" onclick="window.navigate('mypage')">
                    <i data-lucide="user" class="h-5 w-5"></i>
                    <span class="text-[9px] font-bold tracking-wider font-display" id="nav-me">ME</span>
                </button>
            </div>
        </footer>
    </div>

<script>
    // ------------------------------------------------------------------------
    // TRANSLATIONS
    // ------------------------------------------------------------------------
    const TRANSLATIONS = {
        ja: {
            nav_home: "ãƒ›ãƒ¼ãƒ ",
            nav_rank: "é †ä½",
            nav_vote: "æŠ•ç¥¨",
            nav_shop: "ã‚·ãƒ§ãƒƒãƒ—",
            nav_me: "ãƒžã‚¤ãƒšãƒ¼ã‚¸",
            header_pt: "ãƒã‚¤ãƒ³ãƒˆ",
            // Home
            btn_host_match: "ã‚³ãƒ³ãƒšã‚’ä¸»å‚¬ãƒ»ç™»éŒ²ã™ã‚‹",
            // Event Detail (Vote)
            title_predict: "å„ªå‹äºˆæƒ³",
            lbl_sponsor_task: "ã‚¹ãƒãƒ³ã‚µãƒ¼ãƒŸãƒƒã‚·ãƒ§ãƒ³ (ä»»æ„)",
            task_desc: "CMå‹•ç”»(30ç§’)ã‚’è¦‹ã‚‹ã¨ã€çš„ä¸­æ™‚ã®é…å½“ãŒ2å€ã«ãªã‚Šã¾ã™ï¼",
            btn_watch_ad: "å‹•ç”»ã‚’è¦‹ã¦ 2å€ãƒ–ãƒ¼ã‚¹ãƒˆ",
            boost_active: "2å€ãƒ–ãƒ¼ã‚¹ãƒˆé©ç”¨ä¸­ï¼",
            btn_submit_vote: "æŠ•ç¥¨ã‚’ç¢ºå®šã™ã‚‹",
            // Create Match
            title_create: "ã‚³ãƒ³ãƒšä½œæˆ",
            desc_create: "ã‚ãªãŸã®ã‚³ãƒ³ãƒšã‚’ç™»éŒ²ã—ã¦ã€å‚åŠ è€…ã‚’å‹Ÿé›†ã—ãŸã‚Šäºˆæƒ³ã‚’æ¥½ã—ã‚‚ã†ã€‚",
            lbl_c_title: "ã‚³ãƒ³ãƒšå",
            lbl_c_course: "ã‚´ãƒ«ãƒ•å ´",
            lbl_c_date: "é–‹å‚¬æ—¥",
            lbl_c_tags: "ç‰¹å¾´ (ã‚¿ã‚°)",
            btn_publish: "ã‚³ãƒ³ãƒšã‚’å…¬é–‹ã™ã‚‹",
            // Rank
            title_rank: "ã‚¹ã‚¿ãƒ¼ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼",
            desc_rank: "ã‚³ãƒ³ãƒšå‹åˆ©æ•°ã¨å¿œæ´ç²å¾—æ•°ã®ãƒ©ãƒ³ã‚­ãƒ³ã‚°",
            col_wins: "å‹",
            // Shop
            tab_items: "å¿œæ´ã‚¢ã‚¤ãƒ†ãƒ ",
            tab_rewards: "æ™¯å“äº¤æ›",
            shop_item_desc: "é¸æ‰‹ã‚„ã‚³ãƒ³ãƒšä¸»å‚¬è€…ã‚’å¿œæ´ã—ã‚ˆã†ï¼",
            btn_buy: "è³¼å…¥ã™ã‚‹",
            btn_exchange: "äº¤æ›ç”³è«‹",
            item_rose: "å¿œæ´ã®ãƒãƒ©",
            item_beer: "ãŠç–²ã‚Œãƒ“ãƒ¼ãƒ«",
            item_trophy: "å‹åˆ©ã®ãƒˆãƒ­ãƒ•ã‚£ãƒ¼",
            // MyPage
            title_me: "ãƒžã‚¤ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«",
            lbl_home_course: "ãƒ›ãƒ¼ãƒ ã‚³ãƒ¼ã‚¹",
            lbl_avg: "å¹³å‡ã‚¹ã‚³ã‚¢",
            lbl_best: "ãƒ™ã‚¹ãƒˆã‚¹ã‚³ã‚¢",
            lbl_hdcp: "ãƒãƒ³ãƒ‡ã‚£ã‚­ãƒ£ãƒƒãƒ—",
            lbl_gear_driver: "ãƒ‰ãƒ©ã‚¤ãƒãƒ¼",
            lbl_gear_putter: "ãƒ‘ã‚¿ãƒ¼",
            lbl_gear_ball: "ä½¿ç”¨ãƒœãƒ¼ãƒ«",
            btn_save: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’ä¿å­˜",
            // Misc
            alert_boost: "ãƒ–ãƒ¼ã‚¹ãƒˆãŒé©ç”¨ã•ã‚Œã¾ã—ãŸï¼é…å½“2å€ãƒãƒ£ãƒ³ã‚¹ï¼",
            alert_created: "ã‚³ãƒ³ãƒšã‚’ä½œæˆã—ã¾ã—ãŸï¼ãƒ›ãƒ¼ãƒ ç”»é¢ã«è¡¨ç¤ºã•ã‚Œã¾ã™ã€‚",
            alert_saved: "ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚’æ›´æ–°ã—ã¾ã—ãŸã€‚",
            alert_bought: "ã‚¢ã‚¤ãƒ†ãƒ ã‚’è³¼å…¥ã—ã¾ã—ãŸï¼",
        },
        en: {
            nav_home: "HOME",
            nav_rank: "RANK",
            nav_vote: "VOTE",
            nav_shop: "SHOP",
            nav_me: "ME",
            header_pt: "POINTS",
            // Home
            btn_host_match: "HOST A MATCH",
            // Event Detail
            title_predict: "PREDICTION",
            lbl_sponsor_task: "SPONSOR MISSION (Optional)",
            task_desc: "Watch a 30s ad to DOUBLE your winning payout!",
            btn_watch_ad: "WATCH & BOOST 2x",
            boost_active: "2x BOOST ACTIVE!",
            btn_submit_vote: "CONFIRM VOTE",
            // Create Match
            title_create: "HOST MATCH",
            desc_create: "Create your competition and recruit players.",
            lbl_c_title: "Title",
            lbl_c_course: "Course",
            lbl_c_date: "Date",
            lbl_c_tags: "Tags",
            btn_publish: "PUBLISH MATCH",
            // Rank
            title_rank: "STAR PLAYERS",
            desc_rank: "Ranking by wins and support received.",
            col_wins: "Wins",
            // Shop
            tab_items: "SUPPORT ITEMS",
            tab_rewards: "REWARDS",
            shop_item_desc: "Purchase items to support players!",
            btn_buy: "BUY",
            btn_exchange: "EXCHANGE",
            item_rose: "Rose",
            item_beer: "Beer",
            item_trophy: "Trophy",
            // MyPage
            title_me: "MY PROFILE",
            lbl_home_course: "Home Course",
            lbl_avg: "Avg Score",
            lbl_best: "Best Score",
            lbl_hdcp: "Handicap",
            lbl_gear_driver: "Driver",
            lbl_gear_putter: "Putter",
            lbl_gear_ball: "Ball",
            btn_save: "SAVE PROFILE",
            // Misc
            alert_boost: "BOOST ACTIVATED! 2x Payout Chance!",
            alert_created: "Match Created!",
            alert_saved: "Profile Saved.",
            alert_bought: "Item purchased!",
        }
    };

    // ------------------------------------------------------------------------
    // MOCK DATA
    // ------------------------------------------------------------------------
    const TOURNAMENTS = [
        { 
            id: 't1', category: 'pro', title: 'ãƒžã‚¹ã‚¿ãƒ¼ã‚º 2025', host: 'Augusta National', date: 'NOV 25', status: 'live', 
            img: 'https://images.unsplash.com/photo-1587174486073-ae5e5cff23aa?auto=format&fit=crop&w=600&q=80',
            players: ['æ¾å±± è‹±æ¨¹', 'S. Scheffler'],
            sponsor: 'LEXUS'
        },
        { 
            id: 't2', category: 'amateur', title: 'GOLFIN æœˆä¾‹æ¯ @æˆç”°', host: 'GOLFINé‹å–¶äº‹å‹™å±€', date: 'DEC 01', status: 'soon', 
            img: 'https://images.unsplash.com/photo-1592919505780-30395071b483?auto=format&fit=crop&w=600&q=80',
            players: ['T. Tanaka', 'K. Suzuki'],
            canJoin: true,
            sponsor: 'Golf5'
        }
    ];

    let userProfile = {
        name: "Golf Lover",
        avg: 92,
        best: 85,
        hdcp: 18,
        homeCourse: "æˆç”°ã‚´ãƒ«ãƒ•å€¶æ¥½éƒ¨",
        driver: "TaylorMade Qi10",
        putter: "Scotty Cameron",
        ball: "Titleist Pro V1",
        avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=GolfLover"
    };

    const PLAYER_RANKING = [
        { rank: 1, name: "T. Tanaka", wins: 5, gifts: 12500, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Tanaka" },
        { rank: 2, name: "Golf_Queen", wins: 4, gifts: 8900, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Queen" },
        { rank: 3, name: "PowerHitter", wins: 4, gifts: 6200, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Power" },
        { rank: 4, name: "S. Suzuki", wins: 3, gifts: 4500, avatar: "https://api.dicebear.com/7.x/avataaars/svg?seed=Suzuki" },
    ];

    const SHOP_ITEMS = [
        { id: 'i1', nameKey: 'item_rose', cost: 100, icon: 'ðŸŒ¹', color: 'text-red-500' },
        { id: 'i2', nameKey: 'item_beer', cost: 300, icon: 'ðŸº', color: 'text-yellow-500' },
        { id: 'i3', nameKey: 'item_trophy', cost: 1000, icon: 'ðŸ†', color: 'text-accent' },
    ];

    const REWARDS = [
        { id: 'r1', name: 'Amazon Gift Card (Â¥1,000)', cost: 1000, img: 'https://placehold.co/100?text=AMZN' },
        { id: 'r2', name: 'Pro V1 Balls (1 Dozen)', cost: 5000, img: 'https://placehold.co/100?text=BALLS' },
    ];

    // ------------------------------------------------------------------------
    // STATE & LOGIC
    // ------------------------------------------------------------------------
    let currentLang = 'ja';
    let currentView = 'home';
    let userPoints = 1500;
    let isBoosted = false; // ã‚¿ã‚¹ã‚¯å®Œäº†çŠ¶æ…‹

    const container = document.getElementById('view-container');
    const t = (key) => TRANSLATIONS[currentLang][key] || key;

    function toggleLanguage() {
        currentLang = currentLang === 'ja' ? 'en' : 'ja';
        document.getElementById('lang-btn').innerText = currentLang === 'ja' ? 'JP' : 'EN';
        updateStaticText();
        window.navigate(currentView, {}, false);
    }

    function updatePoints(amount) {
        userPoints += amount;
        document.getElementById('header-points').innerText = userPoints.toLocaleString();
    }

    function updateStaticText() {
        document.getElementById('nav-home').innerText = t('nav_home');
        document.getElementById('nav-rank').innerText = t('nav_rank');
        document.getElementById('nav-vote').innerText = t('nav_vote');
        document.getElementById('nav-shop').innerText = t('nav_shop');
        document.getElementById('nav-me').innerText = t('nav_me');
        document.getElementById('lbl-header-pt').innerText = t('header_pt');
    }

    window.navigate = (viewName, params = {}, scrollToTop = true) => {
        currentView = viewName;
        isBoosted = false; // Reset boost
        
        document.querySelectorAll('.nav-item').forEach(btn => btn.classList.remove('active'));
        if(viewName === 'home') document.getElementById('nav-vote').parentElement.classList.add('text-primary'); 
        const activeBtn = document.querySelector(`[data-view="${viewName}"]`);
        if (activeBtn) activeBtn.classList.add('active');

        let html = '';
        if (viewName === 'home') html = renderHome();
        else if (viewName === 'event-detail') html = renderEventDetail(params.id);
        else if (viewName === 'create-comp') html = renderCreateComp();
        else if (viewName === 'mypage') html = renderMyPage();
        else if (viewName === 'rank') html = renderRank();
        else if (viewName === 'shop') html = renderShop();
        else html = `<div class="text-center p-10 text-gray-500">Page: ${viewName}</div>`;

        container.innerHTML = html;
        if(window.lucide) window.lucide.createIcons();
        if(scrollToTop) window.scrollTo(0,0);
    };

    // ------------------------------------------------------------------------
    // RENDERERS
    // ------------------------------------------------------------------------

    // 1. HOME SCREEN
    function renderHome() {
        return `
            <!-- HOST MATCH BUTTON -->
            <div class="mb-6">
                <button class="w-full py-4 rounded-2xl bg-gradient-to-r from-purple-900 to-indigo-900 border border-purple-500/50 shadow-neon-purple flex items-center justify-center gap-3 group relative overflow-hidden" onclick="window.navigate('create-comp')">
                    <div class="absolute inset-0 bg-white/5 opacity-0 group-hover:opacity-100 transition"></div>
                    <div class="p-2 bg-purple-500 rounded-full text-white">
                        <i data-lucide="plus" class="w-6 h-6"></i>
                    </div>
                    <div class="text-left">
                        <span class="block text-sm font-bold text-white tracking-wider">${t('btn_host_match')}</span>
                        <span class="block text-[10px] text-purple-300">Create your own event</span>
                    </div>
                </button>
            </div>

            <div class="mb-6">
                <h2 class="text-lg font-bold text-white mb-4 flex items-center"><i data-lucide="zap" class="w-4 h-4 text-primary mr-2"></i> LIVE EVENTS</h2>
                <div class="space-y-4">
                    ${TOURNAMENTS.map(ev => `
                        <div class="glass-panel p-0 rounded-xl overflow-hidden cursor-pointer group hover:border-primary/50 transition" onclick="window.navigate('event-detail', {id: '${ev.id}'})">
                            <div class="h-32 relative">
                                <img src="${ev.img}" class="w-full h-full object-cover opacity-70 group-hover:scale-105 transition duration-700">
                                <div class="absolute inset-0 bg-gradient-to-t from-bg via-transparent to-transparent"></div>
                                <div class="absolute top-3 right-3 flex gap-2">
                                    <span class="px-2 py-1 rounded text-[10px] font-bold uppercase backdrop-blur-md bg-black/40 border border-white/20">${ev.category}</span>
                                </div>
                                <div class="absolute bottom-3 left-3">
                                    <span class="text-[10px] bg-accent text-black px-2 py-0.5 rounded font-bold flex items-center gap-1">
                                        SPONSOR: ${ev.sponsor}
                                    </span>
                                </div>
                            </div>
                            <div class="p-4 relative z-10">
                                <h3 class="text-lg font-bold text-white leading-tight mb-1">${ev.title}</h3>
                                <p class="text-xs text-gray-400 mb-3"><i data-lucide="map-pin" class="inline w-3 h-3"></i> ${ev.host}</p>
                                <div class="flex justify-between items-center border-t border-white/10 pt-3">
                                    <span class="text-xs text-primary font-bold">VOTE NOW <i data-lucide="chevron-right" class="inline w-3 h-3"></i></span>
                                    <span class="text-[10px] text-gray-500">${ev.date}</span>
                                </div>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }

    // 2. EVENT DETAIL
    function renderEventDetail(id) {
        const ev = TOURNAMENTS.find(e => e.id === id) || TOURNAMENTS[0];
        return `
            <div class="animate-fade-in">
                <button class="text-gray-400 mb-4 flex items-center text-xs" onclick="window.navigate('home')">
                    <i data-lucide="arrow-left" class="w-4 h-4 mr-1"></i> BACK
                </button>

                <div class="relative h-40 rounded-2xl overflow-hidden mb-6 bg-gray-800 border border-white/10">
                    <img src="${ev.img}" class="w-full h-full object-cover opacity-60">
                    <div class="absolute inset-0 flex flex-col justify-end p-5 bg-gradient-to-t from-bg to-transparent">
                        <h2 class="text-2xl font-black text-white italic leading-none">${ev.title}</h2>
                    </div>
                </div>

                <div id="task-card" class="bg-gradient-to-r from-blue-900 to-cyan-900 border border-cyan-500/50 rounded-xl p-5 mb-6 relative overflow-hidden group">
                    <div class="absolute -right-5 -top-5 w-24 h-24 bg-cyan-500/20 rounded-full blur-xl group-hover:bg-cyan-400/30 transition"></div>
                    <div class="flex justify-between items-start mb-2 relative z-10">
                        <h3 class="text-sm font-bold text-cyan-300 flex items-center gap-2">
                            <i data-lucide="monitor-play" class="w-4 h-4"></i> ${t('lbl_sponsor_task')}
                        </h3>
                        <span class="text-[10px] bg-black/30 px-2 py-0.5 rounded text-white border border-white/10">Free</span>
                    </div>
                    <p class="text-xs text-gray-200 mb-4 relative z-10">${t('task_desc')}</p>
                    <button id="btn-boost" class="w-full py-2 bg-cyan-500 text-black font-black font-display text-sm rounded-lg hover:bg-cyan-400 transition shadow-lg flex justify-center items-center gap-2" onclick="activateBoost(this)">
                        <i data-lucide="play" class="w-4 h-4 fill-current"></i> ${t('btn_watch_ad')}
                    </button>
                </div>

                <div class="glass-panel p-5 rounded-xl mb-6">
                    <h3 class="text-lg font-bold text-white mb-4 flex items-center gap-2">
                        <i data-lucide="crosshair" class="w-5 h-5 text-primary"></i> ${t('title_predict')}
                    </h3>
                    <div class="space-y-3 mb-6">
                        ${ev.players.map((p, i) => `
                            <label class="flex items-center justify-between p-3 rounded bg-white/5 border border-white/10 cursor-pointer hover:border-primary transition group">
                                <div class="flex items-center gap-3">
                                    <input type="radio" name="pred" class="accent-primary w-4 h-4">
                                    <span class="text-sm font-bold text-white group-hover:text-primary transition">${p}</span>
                                </div>
                                <span class="text-primary font-mono font-bold">x${(Math.random() * 5 + 1.5).toFixed(1)}</span>
                            </label>
                        `).join('')}
                    </div>
                    <button class="w-full py-3 rounded-xl bg-white/10 text-gray-400 font-bold text-sm cursor-not-allowed border border-white/5 transition hover:bg-primary hover:text-black hover:border-primary hover:shadow-neon" onclick="alert('Voted!')">
                        ${t('btn_submit_vote')}
                    </button>
                </div>
            </div>
        `;
    }

    function activateBoost(btn) {
        btn.innerHTML = `<i data-lucide="loader" class="w-4 h-4 animate-spin"></i> Playing Ad...`;
        setTimeout(() => {
            isBoosted = true;
            const taskCard = document.getElementById('task-card');
            taskCard.classList.remove('from-blue-900', 'to-cyan-900', 'border-cyan-500/50');
            taskCard.classList.add('from-accent/20', 'to-yellow-900/40', 'border-accent', 'boost-active');
            taskCard.innerHTML = `
                <div class="flex items-center justify-center gap-2 h-full py-4">
                    <i data-lucide="zap" class="w-8 h-8 text-accent fill-current animate-bounce"></i>
                    <div>
                        <p class="text-xl font-black text-accent font-display">${t('boost_active')}</p>
                        <p class="text-xs text-white">Win payout x2.0 applied!</p>
                    </div>
                </div>
            `;
            alert(t('alert_boost'));
            if(window.lucide) window.lucide.createIcons();
        }, 1500);
    }

    // 3. CREATE MATCH
    function renderCreateComp() {
        return `
            <div class="animate-fade-in">
                <button class="text-gray-400 mb-4 flex items-center text-xs" onclick="window.navigate('home')">
                    <i data-lucide="x" class="w-4 h-4 mr-1"></i> CANCEL
                </button>
                <h2 class="text-2xl font-display font-black text-white mb-2">${t('title_create')}</h2>
                <p class="text-xs text-gray-400 mb-6">${t('desc_create')}</p>
                
                <div class="glass-panel p-5 rounded-xl space-y-4">
                    <div>
                        <label class="text-xs text-gray-400 font-bold block mb-1">${t('lbl_c_title')}</label>
                        <input type="text" class="input-tech w-full p-3 rounded-lg" placeholder="ex: ç¬¬3å›ž ä¸‹ç”ºã‚´ãƒ«ãƒ•ã‚³ãƒ³ãƒš">
                    </div>
                    <div>
                        <label class="text-xs text-gray-400 font-bold block mb-1">${t('lbl_c_course')}</label>
                        <div class="relative">
                            <i data-lucide="map-pin" class="absolute left-3 top-3.5 w-4 h-4 text-gray-500"></i>
                            <input type="text" class="input-tech w-full pl-9 p-3 rounded-lg" placeholder="Search golf course...">
                        </div>
                    </div>
                    <button class="w-full py-3 rounded-xl bg-purple-600 text-white font-bold mt-2 shadow-neon-purple hover:bg-purple-500 transition" onclick="alert('${t('alert_created')}'); window.navigate('home')">
                        ${t('btn_publish')}
                    </button>
                </div>
            </div>
        `;
    }

    // 4. RANKING
    function renderRank() {
        return `
            <div class="mb-6 text-center">
                <h2 class="text-2xl font-display font-black text-white italic">${t('title_rank')}</h2>
                <p class="text-xs text-gray-400">${t('desc_rank')}</p>
            </div>
            <div class="space-y-3">
                ${PLAYER_RANKING.map((p, i) => {
                    let rankClass = i === 0 ? 'rank-1' : i === 1 ? 'rank-2' : i === 2 ? 'rank-3' : 'bg-white/10 text-gray-400';
                    let glow = i === 0 ? 'shadow-neon-pink' : '';
                    return `
                    <div class="glass-panel p-3 rounded-xl flex items-center gap-3 ${glow}">
                        <div class="w-8 h-8 rounded-full flex items-center justify-center font-bold text-xs ${rankClass}">${p.rank}</div>
                        <div class="w-10 h-10 rounded-full bg-gray-700 overflow-hidden border border-white/20">
                            <img src="${p.avatar}" class="w-full h-full">
                        </div>
                        <div class="flex-1">
                            <h3 class="text-sm font-bold text-white">${p.name}</h3>
                            <p class="text-[10px] text-pink font-bold flex items-center"><i data-lucide="gift" class="w-3 h-3 mr-1"></i> ${p.gifts.toLocaleString()}</p>
                        </div>
                        <div class="text-right mr-2">
                            <p class="text-xs font-bold text-accent">${p.wins} ${t('col_wins')}</p>
                        </div>
                        <button class="p-2 rounded-full bg-pink/20 text-pink hover:bg-pink hover:text-white transition" onclick="alert('Sent Gift to ${p.name}!')">
                            <i data-lucide="heart" class="w-4 h-4 fill-current"></i>
                        </button>
                    </div>
                    `;
                }).join('')}
            </div>
        `;
    }

    // 5. SHOP
    function renderShop() {
        return `
            <div class="mb-6">
                <div class="flex gap-4 border-b border-white/10 pb-2 mb-4">
                    <button class="text-sm font-bold tab-active" onclick="document.getElementById('shop-items').style.display='grid';document.getElementById('shop-rewards').style.display='none';this.classList.add('tab-active');this.nextElementSibling.classList.remove('tab-active');this.nextElementSibling.classList.add('tab-inactive');">${t('tab_items')}</button>
                    <button class="text-sm font-bold tab-inactive" onclick="document.getElementById('shop-items').style.display='none';document.getElementById('shop-rewards').style.display='grid';this.classList.add('tab-active');this.previousElementSibling.classList.remove('tab-active');this.previousElementSibling.classList.add('tab-inactive');">${t('tab_rewards')}</button>
                </div>

                <!-- Support Items -->
                <div id="shop-items" class="grid grid-cols-1 gap-3 animate-fade-in">
                    <p class="text-xs text-gray-400 mb-2">${t('shop_item_desc')}</p>
                    ${SHOP_ITEMS.map(i => `
                        <div class="glass-panel p-3 rounded-xl flex items-center justify-between">
                            <div class="flex items-center gap-4">
                                <div class="text-3xl w-12 h-12 flex items-center justify-center bg-white/5 rounded-lg border border-white/10">${i.icon}</div>
                                <div>
                                    <h3 class="font-bold text-white text-sm">${t(i.nameKey)}</h3>
                                    <p class="text-xs font-bold text-primary">${i.cost} pt</p>
                                </div>
                            </div>
                            <button class="px-4 py-2 rounded bg-white/10 hover:bg-primary hover:text-black border border-white/10 text-xs font-bold transition" onclick="updatePoints(-${i.cost}); alert('${t('alert_bought')}')">
                                ${t('btn_buy')}
                            </button>
                        </div>
                    `).join('')}
                </div>

                <!-- Rewards -->
                <div id="shop-rewards" class="hidden grid-cols-2 gap-3 animate-fade-in">
                    ${REWARDS.map(r => `
                        <div class="glass-panel p-3 rounded-xl flex flex-col h-full">
                            <img src="${r.img}" class="w-full h-24 object-cover rounded-lg mb-3 bg-gray-800">
                            <h3 class="text-sm font-bold text-white mb-1 leading-tight">${r.name}</h3>
                            <div class="mt-auto pt-2">
                                <p class="text-accent font-bold font-display mb-2">${r.cost.toLocaleString()} pt</p>
                                <button class="w-full py-2 rounded bg-white/10 border border-white/10 text-xs font-bold hover:bg-accent hover:text-black transition">
                                    ${t('btn_exchange')}
                                </button>
                            </div>
                        </div>
                    `).join('')}
                </div>
            </div>
        `;
    }

    // 6. MY PAGE (Enhanced)
    function renderMyPage() {
        return `
            <div class="animate-fade-in">
                <h2 class="text-xl font-display font-black text-white mb-6">${t('title_me')}</h2>
                
                <div class="flex items-center gap-4 mb-8">
                    <div class="w-20 h-20 rounded-full border-2 border-primary p-1">
                        <img src="${userProfile.avatar}" class="w-full h-full rounded-full bg-gray-700">
                    </div>
                    <div>
                        <h3 class="text-xl font-bold text-white">${userProfile.name}</h3>
                        <p class="text-xs text-gray-400">ID: #8821 | <span class="text-primary">Premium Member</span></p>
                    </div>
                </div>

                <!-- NEW: Home Course -->
                <div class="glass-panel p-4 rounded-xl mb-4 flex items-center justify-between">
                    <span class="text-xs text-gray-400 font-bold"><i data-lucide="map-pin" class="inline w-3 h-3 mr-1"></i> ${t('lbl_home_course')}</span>
                    <input type="text" class="bg-transparent text-right text-sm text-white font-bold outline-none focus:border-b border-primary" value="${userProfile.homeCourse}">
                </div>

                <div class="glass-panel p-5 rounded-xl mb-6">
                    <h3 class="text-sm font-bold text-gray-400 mb-4 border-b border-white/10 pb-2">STATS</h3>
                    <div class="grid grid-cols-3 gap-4 text-center">
                        <div>
                            <p class="text-[10px] text-gray-500 mb-1">${t('lbl_avg')}</p>
                            <input type="number" class="w-full bg-transparent text-center font-display font-bold text-xl text-white border-b border-white/20 focus:border-primary outline-none" value="${userProfile.avg}">
                        </div>
                        <div>
                            <p class="text-[10px] text-gray-500 mb-1">${t('lbl_best')}</p>
                            <input type="number" class="w-full bg-transparent text-center font-display font-bold text-xl text-accent border-b border-white/20 focus:border-primary outline-none" value="${userProfile.best}">
                        </div>
                         <div>
                            <p class="text-[10px] text-gray-500 mb-1">${t('lbl_hdcp')}</p>
                            <input type="number" class="w-full bg-transparent text-center font-display font-bold text-xl text-white border-b border-white/20 focus:border-primary outline-none" value="${userProfile.hdcp}">
                        </div>
                    </div>
                </div>

                <div class="glass-panel p-5 rounded-xl mb-6">
                    <h3 class="text-sm font-bold text-gray-400 mb-4 border-b border-white/10 pb-2">IN THE BAG</h3>
                    <div class="mb-4">
                        <label class="text-xs text-gray-500 block mb-1">${t('lbl_gear_driver')}</label>
                        <input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.driver}">
                    </div>
                    <div class="mb-4">
                        <label class="text-xs text-gray-500 block mb-1">${t('lbl_gear_putter')}</label>
                        <input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.putter}">
                    </div>
                    <div class="mb-2">
                        <label class="text-xs text-gray-500 block mb-1">${t('lbl_gear_ball')}</label>
                        <input type="text" class="input-tech w-full p-2 rounded text-sm" value="${userProfile.ball}">
                    </div>
                </div>

                <button class="w-full py-3 rounded-xl bg-primary/20 border border-primary text-primary font-bold hover:bg-primary hover:text-black transition" onclick="alert('${t('alert_saved')}')">
                    ${t('btn_save')}
                </button>
            </div>
        `;
    }

    // Init
    document.addEventListener('DOMContentLoaded', () => {
        window.navigate('home');
    });
</script>
</body>
</html>
